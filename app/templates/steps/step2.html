<section class="calc__step" id="calc-step-2" aria-hidden="true" tabindex="-1">
    <fieldset class="calc__fieldset">
        <legend class="calc__legend">
            Укажите размеры здания для расчёта объёма материалов.
        </legend>

        <div class="calc__building-container">
            <figure class="calc__building-visualization">
                <div class="calc__building-visualization-canvas">
                    <canvas id="calc-building-canvas" aria-label="Визуализация здания"></canvas>
                </div>

                <figcaption class="calc__building-visualization-caption">
                    <div class="calc__building-metrics" aria-live="polite">
                        <div class="calc__building-metrics-item">
                            <span class="calc__building-metrics-label">Площадь стен:</span>
                            <span class="calc__building-metrics-value"></span>
                        </div>
                        <div class="calc__building-metrics-item">
                            <span class="calc__building-metrics-label">Площадь здания:</span>
                            <span class="calc__building-metrics-value"></span>
                        </div>
                        <div class="calc__building-metrics-item">
                            <span class="calc__building-metrics-label">Периметр здания:</span>
                            <span class="calc__building-metrics-value"></span>
                        </div>
                    </div>

                    <div class="calc__building-dimensions" aria-live="polite">
                        <div class="calc__building-dimension calc__building-dimension--length">
                            <span class="calc__building-dimension-value" id="calc-wall-length"></span>м.
                        </div>
                        <div class="calc__building-dimension calc__building-dimension--width">
                            <span class="calc__building-dimension-value" id="calc-wall-width"></span>м.
                        </div>
                        <div class="calc__building-dimension calc__building-dimension--height">
                            <span class="calc__building-dimension-value" id="calc-wall-height"></span>м.
                        </div>
                    </div>
                </figcaption>
            </figure>

            <div class="calc__building-selection">
                <div class="calc__building-cards">
                    <div class="calc__building-card">
                        <span class="material-icons calc__building-selection-icon" aria-hidden="true">straighten</span>
                        <label for="calc-building-length" class="calc__building-selection-label">Длина здания</label>
                        <div class="calc__building-slider-container">
                            <input type="range" class="calc__building-slider" id="calc-building-length-slider"
                                   min="1" max="100" value="10" aria-label="Ползунок для длины здания">
                        </div>
                        <div class="calc__controls calc__controls--building">
                            {{ form.building_length(id="calc-building-length", min="1", max="100", value="10",
                                                  **{"aria-label": "Длина здания в метрах"}) }}
                            <span class="calc__unit">м.</span>
                        </div>
                        {% if form.building_length.errors %}
                            <div class="calc__error-message">
                                {% for error in form.building_length.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="calc__building-card">
                        <span class="material-icons calc__building-selection-icon" aria-hidden="true">width_full</span>
                        <label for="calc-building-width" class="calc__building-selection-label">Ширина здания</label>
                        <div class="calc__building-slider-container">
                            <input type="range" class="calc__building-slider" id="calc-building-width-slider"
                                   min="1" max="100" value="8" aria-label="Ползунок для ширины здания">
                        </div>
                        <div class="calc__controls calc__controls--building">
                            {{ form.building_width(id="calc-building-width", min="1", max="100", value="8",
                                                **{"aria-label": "Ширина здания в метрах"}) }}
                            <span class="calc__unit">м.</span>
                        </div>
                        {% if form.building_width.errors %}
                            <div class="calc__error-message">
                                {% for error in form.building_width.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div class="calc__building-card">
                        <span class="material-icons calc__building-selection-icon" aria-hidden="true">height</span>
                        <label for="calc-building-height" class="calc__building-selection-label">Высота стен</label>
                        <div class="calc__building-slider-container">
                            <input type="range" class="calc__building-slider" id="calc-building-height-slider"
                                   min="1" max="20" value="3" aria-label="Ползунок для высоты стен">
                        </div>
                        <div class="calc__controls calc__controls--building">
                            {{ form.building_height(id="calc-building-height", min="1", max="20", value="3",
                                                  **{"aria-label": "Высота стен в метрах"}) }}
                            <span class="calc__unit">м.</span>
                        </div>
                        {% if form.building_height.errors %}
                            <div class="calc__error-message">
                                {% for error in form.building_height.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
</section>