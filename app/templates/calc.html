{% extends "base.html" %}

{% block title %}Калькулятор - BuildCalc{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for("static", filename="css/calc.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/steps/step1.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/steps/step2.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/steps/step3.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/steps/step4.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/steps/step5.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/steps/step6.css") }}">
{% endblock %}

{% block content %}
    <section class="calc">
        <div class="calc__container">
            <h2 class="calc__title">Расчет материалов</h2>
            
            <form class="calc__form" novalidate>
                <div class="calc__progress">
                    <ul class="calc__progress-list">
                        <li class="calc__progress-item calc__progress-item--active" data-step="0" 
                            aria-hidden="false" aria-current="step">
                            Регион
                        </li>
                        <li class="calc__progress-item" data-step="1" aria-hidden="true">
                            Размеры здания
                        </li>
                        <li class="calc__progress-item" data-step="2" aria-hidden="true">
                            Материал стен
                        </li>
                        <li class="calc__progress-item" data-step="3" aria-hidden="true">
                            Окна и двери
                        </li>
                        <li class="calc__progress-item" data-step="4" aria-hidden="true">
                            Фундамент
                        </li>
                        <li class="calc__progress-item" data-step="5" aria-hidden="true">
                            Результат
                        </li>
                    </ul>
                </div>

                {# Шаги 1-5 вставляются в форму #}
                {% for step in range(1, 7) %}
                    {% include "steps/step" ~ step ~ ".html" %}
                {% endfor %}

                <div class="calc__navigation">
                    <button type="button" id="prev-step" class="calc__button calc__button--prev">
                        Назад
                    </button>
                    <button type="button" id="next-step" class="calc__button calc__button--next">
                        Далее
                    </button>
                </div>
            </form>
        </div>
    </section>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for("static", filename="js/calc.js") }}"></script>
    <script type="module" src="{{ url_for("static", filename="js/steps/step2.js") }}"></script>
    <script type="module" src="{{ url_for("static", filename="js/steps/step3.js") }}"></script>
    <script type="module" src="{{ url_for("static", filename="js/steps/step5.js") }}"></script>
{% endblock %}